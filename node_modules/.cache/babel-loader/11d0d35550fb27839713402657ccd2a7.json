{"ast":null,"code":"var _jsxFileName = \"/Users/amaljose/MyOwn/PersonalProjects/Mashinga/src/Mashinga/index.js\";\nimport React from \"react\";\nimport { MashingaContainer } from \"./styles\";\nimport Body from \"./components/Body\";\nimport { Context } from \"./Store\";\nimport Splash from \"./components/pages/Splash\";\nimport { appBasePath } from \"./config/paths\";\n\nfunction Mashinga(props) {\n  const {\n    state,\n    dispatch\n  } = React.useContext(Context);\n  const [checkLocalToken, setLocalTokenStatus] = React.useState(false);\n  React.useEffect(() => {\n    let localToken = localStorage.getItem(\"token\");\n    SecureService.verifyToken(localToken).then(retrivedUser => {\n      setUserDetails(retrivedUser)(dispatch);\n      setLocalTokenStatus(true);\n    }).catch(err => {\n      if (window.location.pathname.includes(appBasePath) && window.location.pathname !== appBasePath + \"login\") {\n        history.push(appBasePath + \"login?redirect=\" + window.location.pathname);\n      }\n\n      setLocalTokenStatus(true);\n    });\n  }, []);\n\n  if (!checkLocalToken) {\n    /*#__PURE__*/\n    React.createElement(MashingaContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Splash, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(MashingaContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default Mashinga;","map":{"version":3,"sources":["/Users/amaljose/MyOwn/PersonalProjects/Mashinga/src/Mashinga/index.js"],"names":["React","MashingaContainer","Body","Context","Splash","appBasePath","Mashinga","props","state","dispatch","useContext","checkLocalToken","setLocalTokenStatus","useState","useEffect","localToken","localStorage","getItem","SecureService","verifyToken","then","retrivedUser","setUserDetails","catch","err","window","location","pathname","includes","history","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBT,KAAK,CAACU,UAAN,CAAiBP,OAAjB,CAA5B;AACA,QAAM,CAACQ,eAAD,EAAkBC,mBAAlB,IAAyCZ,KAAK,CAACa,QAAN,CAAe,KAAf,CAA/C;AACAb,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACpB,QAAIC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAjB;AACAC,IAAAA,aAAa,CAACC,WAAd,CAA0BJ,UAA1B,EACGK,IADH,CACSC,YAAD,IAAkB;AACpBC,MAAAA,cAAc,CAACD,YAAD,CAAd,CAA6BZ,QAA7B;AACAG,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACH,KAJH,EAKGW,KALH,CAKUC,GAAD,IAAS;AACd,UACEC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkCvB,WAAlC,KACAoB,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6BtB,WAAW,GAAG,OAF7C,EAGE;AACAwB,QAAAA,OAAO,CAACC,IAAR,CAAazB,WAAW,GAAG,iBAAd,GAAkCoB,MAAM,CAACC,QAAP,CAAgBC,QAA/D;AACD;;AACDf,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,KAbH;AAcD,GAhBD,EAgBG,EAhBH;;AAiBA,MAAG,CAACD,eAAJ,EAAoB;AAClB;AAAA,wBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;;AACD,sBAAO,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACL,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,CAAP;AAGD;;AACD,eAAeL,QAAf","sourcesContent":["import React from \"react\";\nimport { MashingaContainer } from \"./styles\";\nimport Body from \"./components/Body\";\nimport { Context } from \"./Store\";\nimport Splash from \"./components/pages/Splash\";\nimport { appBasePath } from \"./config/paths\";\n\nfunction Mashinga(props) {\n  const { state, dispatch } = React.useContext(Context);\n  const [checkLocalToken, setLocalTokenStatus] = React.useState(false);\n  React.useEffect(() => {\n    let localToken = localStorage.getItem(\"token\");\n    SecureService.verifyToken(localToken)\n      .then((retrivedUser) => {\n          setUserDetails(retrivedUser)(dispatch);\n          setLocalTokenStatus(true);\n      })\n      .catch((err) => {\n        if (\n          window.location.pathname.includes(appBasePath) &&\n          window.location.pathname !== appBasePath + \"login\"\n        ) {\n          history.push(appBasePath + \"login?redirect=\" + window.location.pathname);\n        }\n        setLocalTokenStatus(true);\n      });\n  }, []);\n  if(!checkLocalToken){\n    <MashingaContainer>\n      <Splash/>\n    </MashingaContainer>\n  }\n  return <MashingaContainer>\n    <Body/>\n  </MashingaContainer>;\n}\nexport default Mashinga;"]},"metadata":{},"sourceType":"module"}