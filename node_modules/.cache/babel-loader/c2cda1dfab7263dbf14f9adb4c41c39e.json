{"ast":null,"code":"var _jsxFileName = \"/Users/amaljose/MyOwn/PersonalProjects/Mashinga/src/Mashinga/index.js\";\nimport React from \"react\";\nimport { MashingaContainer } from \"./styles\";\nimport Body from \"./components/Body\";\nimport { Context } from \"./Store\";\n\nfunction Mashinga(props) {\n  const {\n    state,\n    dispatch\n  } = React.useContext(Context);\n  const [checkLocalToken, setLocalTokenStatus] = React.useState(false);\n  React.useEffect(() => {\n    let localToken = localStorage.getItem(\"token\");\n    SecureService.verifyToken(localToken).then(retrivedUser => {\n      setUserDetails(retrivedUser)(dispatch);\n      setLocalTokenStatus(true);\n    }).catch(err => {\n      if (window.location.pathname.includes(basePath) && window.location.pathname !== basePath + \"login\") {\n        history.push(basePath + \"login?redirect=\" + window.location.pathname);\n      }\n\n      setLocalTokenStatus(true);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(MashingaContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default Mashinga;","map":{"version":3,"sources":["/Users/amaljose/MyOwn/PersonalProjects/Mashinga/src/Mashinga/index.js"],"names":["React","MashingaContainer","Body","Context","Mashinga","props","state","dispatch","useContext","checkLocalToken","setLocalTokenStatus","useState","useEffect","localToken","localStorage","getItem","SecureService","verifyToken","then","retrivedUser","setUserDetails","catch","err","window","location","pathname","includes","basePath","history","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAASC,OAAT,QAAwB,SAAxB;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBP,KAAK,CAACQ,UAAN,CAAiBL,OAAjB,CAA5B;AACA,QAAM,CAACM,eAAD,EAAkBC,mBAAlB,IAAyCV,KAAK,CAACW,QAAN,CAAe,KAAf,CAA/C;AACAX,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,QAAIC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAjB;AACAC,IAAAA,aAAa,CAACC,WAAd,CAA0BJ,UAA1B,EACGK,IADH,CACSC,YAAD,IAAkB;AACpBC,MAAAA,cAAc,CAACD,YAAD,CAAd,CAA6BZ,QAA7B;AACAG,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACH,KAJH,EAKGW,KALH,CAKUC,GAAD,IAAS;AACd,UACEC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkCC,QAAlC,KACAJ,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6BE,QAAQ,GAAG,OAF1C,EAGE;AACAC,QAAAA,OAAO,CAACC,IAAR,CAAaF,QAAQ,GAAG,iBAAX,GAA+BJ,MAAM,CAACC,QAAP,CAAgBC,QAA5D;AACD;;AACDf,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,KAbH;AAcD,GAhBD,EAgBG,EAhBH;AAiBA,sBAAO,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACL,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,CAAP;AAGD;;AACD,eAAeN,QAAf","sourcesContent":["import React from \"react\";\nimport { MashingaContainer } from \"./styles\";\nimport Body from \"./components/Body\";\nimport { Context } from \"./Store\";\n\nfunction Mashinga(props) {\n  const { state, dispatch } = React.useContext(Context);\n  const [checkLocalToken, setLocalTokenStatus] = React.useState(false);\n  React.useEffect(() => {\n    let localToken = localStorage.getItem(\"token\");\n    SecureService.verifyToken(localToken)\n      .then((retrivedUser) => {\n          setUserDetails(retrivedUser)(dispatch);\n          setLocalTokenStatus(true);\n      })\n      .catch((err) => {\n        if (\n          window.location.pathname.includes(basePath) &&\n          window.location.pathname !== basePath + \"login\"\n        ) {\n          history.push(basePath + \"login?redirect=\" + window.location.pathname);\n        }\n        setLocalTokenStatus(true);\n      });\n  }, []);\n  return <MashingaContainer>\n    <Body/>\n  </MashingaContainer>;\n}\nexport default Mashinga;"]},"metadata":{},"sourceType":"module"}